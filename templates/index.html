<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mini Messenger</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
</head>
<body class="bg-gray-100 text-gray-900 min-h-screen flex flex-col items-center justify-center p-6">
    <div class="w-full max-w-lg bg-white shadow-lg rounded-lg p-6">
        <h1 class="text-2xl font-bold mb-4 text-center">Mini Messenger ğŸ’¬</h1>

        <!-- Message list -->
        <div id="messages">
            {% for msg in messages %}
                {% include "partials/message.html" %}
            {% endfor %}
        </div>

        <!-- New message form -->
        <form
            hx-post="/send"
            hx-target="#messages"
            hx-swap="beforeend"
            hx-on::after-request="this.reset()"
            class="flex flex-col space-y-2"
        >
            <input type="text" name="username" placeholder="Your name"
                   class="border p-2 rounded" required>

            <input type="text" name="message_text" placeholder="Message..."
                   class="border p-2 rounded" required>

            <button type="submit"
                    class="bg-blue-500 hover:bg-blue-600 text-white p-2 rounded">
                Send
            </button>
        </form>
    </div>
</body>
</html>
